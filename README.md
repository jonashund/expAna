# expAna

Process raw DIC images or evaluation data exported from Istra4D to gain true stress strain curves.

## Requirements
- Python (Version 3.x, e.g. via [pyenv](https://github.com/pyenv/pyenv) or [Conda](https://docs.conda.io/en/latest/))
    - creating and subsequently setting/activating an environment is recommended

## Installation
- clone from git into a local repository and install in the following order:
1. [`istra2py`](https://git.scc.kit.edu/ifm/labor/istra2py)
     - `git clone git@git.scc.kit.edu:ifm/labor/istra2py.git`
     - `cd ./istra2py`
     - `pip install -e .`
2. [`muDIC_ifm`](https://git.scc.kit.edu/ifm/labor/exputil/mudic_ifm)
     - `git clone git@git.scc.kit.edu:ifm/labor/exputil/mudic_ifm.git`
     - `cd ./muDIC_ifm`
     - `pip install -e .`
3. [`expDoc`](https://git.scc.kit.edu/ifm/labor/exputil/expDoc):
     - `git clone git@git.scc.kit.edu:ifm/labor/exputil/expDoc.git`
     - `cd ./expDoc`
     - `pip install -e .`
4. [`expAna`](https://git.scc.kit.edu/ifm/labor/exputil/expAna):
     - `git clone git@git.scc.kit.edu:ifm/labor/exputil/expAna.git`
     - `cd ./expAna`
     - `pip install -e .`

## Usage
### folder structure:
- `project_directory`
  - `data_instron` *instron project directory*
     - `Test1`
     - `Test2`
  - `data_istra_acquisition` *Istra4D acquisition directories*
     - `Test1`
     - `Test2`
  - `data_istra_evaluation` *Istra4D evaluation directories*
     - `Test1CORN1`
     - `Test2CORN1`
  - `data_export2tif` *generated by acquis2tif*
     - `Test1`
     - `Test2`
  - `data_muDIC` *generated by dic_with_muDIC*
     - `Test1`
     - `Test2`
  - `visualisation_istra` *generated by vis_basic_stress*
  - `visualisation_muDIC` *generated by vis_basic_stress*

### Data acquisition
- record experiments with the [_LIMESS Q-400_](https://git.scc.kit.edu/ifm/labor/pruefmaschinen/-/tree/master/DIC_Limess) system
  - name the recorded files similarly as the _Instron WaveMatrix_ software
- optional: evaluate the acquisitions 

### Data import
- from the laboratory laptop running _Istra4D_ transfer the respective data into the `data_istra_<foo>` directories

### Obtaining true stress strain curves
- in the `project_directory` open a terminal
- run (preferably) `ipython` or `python`
- `import expAna`
- for every function called below look into the code or call as script to gain insight into optional arguments
#### Option 1: Use evaluated data from _Istra4D_
- `expAna.eval2stress.main()`
#### Option 2: Use `muDIC` on _Istra4D_ acquisition data
- read an convert images: `expAna.acquis2tif.main()`
- digital image correlation with `muDIC`: `expAna.dic_with_muDIC.main()`
- true stress strain behaviour from DIC results: `expAna.muDIC2stress.main()`

### Basic visualisation
- plot stress strain curves: `expAna.vis_basic_stress.main()`

### Results analysis
- results can be filtered using a <key> of the `documentation_data` dictionary that is created for every experiment  by running 'expDoc' and subsequently read by `expAna`
- additionally a corresponding <value> can be provided and only experiments matching both criteria are analysed
- basic usage: `expAna.vis_analysis_stress.main(filter_key="<key")`
  - example: compare the experiments of the project regarding the different values for the key "specimen_orientation": `expAna.vis_analysis_stress.main(filter_key="specimen_orientation")`
